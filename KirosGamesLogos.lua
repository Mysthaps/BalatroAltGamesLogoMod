----------------------------------------------
------------MOD CODE -------------------------

KGL = SMODS.current_mod

sendDebugMessage("Launching Kiro's Game Logos Mod!", "KirosGameLogoMod")


SMODS.Atlas {key = "modicon",	path = "icon.png",	px = 32, py = 32}

KGL.logos ={
    {name = "Library of Ruina",                                 file = "balatro.png",   X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("edd9b2"), secondaryColour = HEX("bfb8aa"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Limbus Company",                                   file = "balatro2.png",  X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("6b0707"), secondaryColour = HEX("2e0b0b"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Lobotomy Corporation",                             file = "balatro3.png",  X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("dbd38a"), secondaryColour = HEX("b01510"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Leviathan",                                        file = "balatro4.png",  X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("661106"), secondaryColour = HEX("242e1d"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Half Life 1",                                      file = "balatro5.png",  X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("994c0e"), secondaryColour = HEX("402b1a"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Final Fantasy XIV: Shadowbringers",                file = "balatro6.png",  X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("e8bf7d"), secondaryColour = HEX("431b69"), contrast = 2, creditsColour = HEX("e0e0e0")},
    {name = "Z.A.T.O. I Love the World and Everything In It",   file = "balatro7.png",  X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("362f27"), secondaryColour = HEX("523741"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Barotrauma",                                       file = "balatro8.png",  X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("212124"), secondaryColour = HEX("30060e"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Yakuza",                                           file = "balatro9.png",  X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("918e8f"), secondaryColour = HEX("636363"), contrast = 2, creditsColour = HEX("e0e0e0")},
    {name = "Kirby Triple Deluxe",                              file = "balatro10.png", X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("e35dcd"), secondaryColour = HEX("a3125b"), contrast = 3, creditsColour = HEX("e0e0e0")},
    {name = "Dispatch",                                         file = "balatro11.png", X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("4092b8"), secondaryColour = HEX("4a3228"), contrast = 2, creditsColour = HEX("e0e0e0")},
    {name = "The Wolf Among Us",                                file = "balatro12.png", X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("491a66"), secondaryColour = HEX("a519b5"), contrast = 2, creditsColour = HEX("e0e0e0")},
    {name = "Pikmin",                                           file = "balatro13.png", X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("5ed17b"), secondaryColour = HEX("e0eb98"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Halo",                                             file = "balatro14.png", X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("1a4f2d"), secondaryColour = HEX("b57e26"), contrast = 2, creditsColour = HEX("e0e0e0")},
    {name = "Undertale",                                        file = "balatro15.png", X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("1c1c1c"), secondaryColour = HEX("1c1c1c"), contrast = 2, creditsColour = HEX("e0e0e0")},
    {name = "Garrys Mod",                                       file = "balatro16.png", X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("81c3d4"), secondaryColour = HEX("81c3d4"), contrast = 2, creditsColour = HEX("e0e0e0")},
    {name = "Silent Hill",                                      file = "balatro17.png", X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("d1d1d1"), secondaryColour = HEX("666464"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Judgement",                                        file = "balatro18.png", X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("454545"), secondaryColour = HEX("171717"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Jet Set Radio",                                    file = "balatro19.png", X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("e3dd3d"), secondaryColour = HEX("e36905"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Resident Evil - Original Trilogy",                                 file = "balatro20.png", X = 255, Y = 100, credits = "Kiro",                 primaryColour = HEX("33201a"), secondaryColour = HEX("4a0c06"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Catherine",                                        file = "balatro21.png", X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("e346c1"), secondaryColour = HEX("eb83d4"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Deltarune",                                        file = "balatro22.png", X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("1c1c1c"), secondaryColour = HEX("20aafa"), contrast = 3, creditsColour = HEX("e0e0e0")},
    {name = "DOOM",                                             file = "balatro23.png", X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("8c2306"), secondaryColour = HEX("d15524"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Minecraft",                                        file = "balatro24.png", X = 272, Y = 55,  credits = "Kiro",                 primaryColour = HEX("11d144"), secondaryColour = HEX("0a6e24"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Left 4 Dead",                                      file = "balatro25.png", X = 333, Y = 216, credits = "Kiro",                 primaryColour = HEX("05540a"), secondaryColour = HEX("068c0e"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Cyberpunk 2077",                                   file = "balatro26.png", X = 283, Y = 77,  credits = "Kiro",                 primaryColour = HEX("4f453d"), secondaryColour = HEX("36b8cf"), contrast = 3, creditsColour = HEX("e0e0e0")},
    {name = "Terraria",                                         file = "balatro27.png", X = 220, Y = 71,  credits = "Kiro",                 primaryColour = HEX("1d96e0"), secondaryColour = HEX("6338c7"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Super Balatro",                                    file = "balatro28.png", X = 176, Y = 88,  credits = "UltraEpicLeader100",   primaryColour = HEX("8a83cc"), secondaryColour = HEX("8a83cc"), contrast = 1, creditsColour = HEX("e0e0e0")},
    {name = "Sonic The Hedgehog",                               file = "balatro29.png", X = 227, Y = 42,  credits = "UltraEpicLeader100",   primaryColour = HEX("0e49a1"), secondaryColour = HEX("ba040d"), contrast = 3, creditsColour = HEX("e0e0e0")},
    {name = "Gradius",                                          file = "balatro30.png", X = 274, Y = 44,  credits = "UltraEpicLeader100",   primaryColour = HEX("000000"), secondaryColour = HEX("000000"), contrast = 1, creditsColour = HEX("2f74ba")},
    {name = "Persona 5",                                          file = "balatro31.png", X = 333, Y = 216,  credits = "Kiro",   primaryColour = HEX("e60000"), secondaryColour = HEX("000000"), contrast = 3, creditsColour = HEX("e0e0e0")},
    {name = "Omori",                                          file = "balatro32.png", X = 333, Y = 216,  credits = "Kiro",   primaryColour = HEX("f0ebeb"), secondaryColour = HEX("f0ebeb"), contrast = 1, creditsColour = HEX("e0e0e0"), play_colour = HEX("292929"), buttons_colour = HEX("292929"), play_text = HEX("e0e0e0"), buttons_text = HEX("e0e0e0"), menu_colour = HEX("cccccc")},
    {name = "Oxenfree",                                          file = "balatro33.png", X = 333, Y = 216,  credits = "Kiro",   primaryColour = HEX("1d382e"), secondaryColour = HEX("1a211e"), contrast = 1, creditsColour = HEX("e0e0e0"), play_colour = HEX("731c36"), buttons_colour = HEX("731c36"), play_text = HEX("e0e0e0"), buttons_text = HEX("e0e0e0"),  menu_colour = HEX("616161")},
    {name = "Phoenix Wright: Ace Attorney",                         file = "balatro34.png", X = 333, Y = 216,  credits = "Kiro",   primaryColour = HEX("124d99"), secondaryColour = HEX("8a0f40"), contrast = 2, creditsColour = HEX("e0e0e0"), play_colour = HEX("6b9edb"), buttons_colour = HEX("6b9edb"), play_text = HEX("e0e0e0"), buttons_text = HEX("e0e0e0"),  menu_colour = G.C.CLEAR},
    {name = "Resident Evil - Modern REmakes",                         file = "balatro35.png", X = 333, Y = 216,  credits = "Kiro",   primaryColour = HEX("27404f"), secondaryColour = HEX("363b3d"), contrast = 1, creditsColour = HEX("e0e0e0"), play_colour = HEX("58b883"), buttons_colour = HEX("58b883"), play_text = HEX("e0e0e0"), buttons_text = HEX("e0e0e0"), menu_colour = HEX("616161")},
    {name = "Clair Obscur: Expedition 33",                         file = "balatro36.png", X = 333, Y = 216,  credits = "Kiro",   primaryColour = HEX("382828"), secondaryColour = HEX("261c1c"), contrast = 1, creditsColour = HEX("e0e0e0"), play_colour = HEX("4d4843"), buttons_colour = HEX("4d4843"), play_text = HEX("e0e0e0"), buttons_text = HEX("e0e0e0"), menu_colour = G.C.CLEAR},
    {name = "Guilty Gear Xrd REV2",                         file = "balatro37.png", X = 333, Y = 216,  credits = "Kiro",   primaryColour = HEX("488752"), secondaryColour = HEX("1b361f"), contrast = 1, creditsColour = HEX("e0e0e0"), play_colour = HEX("58b883"), buttons_colour = HEX("58b883"), play_text = HEX("e0e0e0"), buttons_text = HEX("e0e0e0"), menu_colour = HEX("616161")},
    {name = "Transistor",                         file = "balatro38.png", X = 333, Y = 216,  credits = "Kiro",   primaryColour = HEX("1d3d35"), secondaryColour = HEX("0e1211"), contrast = 1, creditsColour = HEX("e0e0e0"), play_colour = HEX("10a377"), buttons_colour = HEX("10a377"), play_text = HEX("e0e0e0"), buttons_text = HEX("e0e0e0"), menu_colour = HEX("1f2e2c")},
    {name = "Milk Inside a Bag Of Milk Inside a Bag of Milk",                         file = "balatro39.png", X = 333, Y = 216,  credits = "Kiro",   primaryColour = HEX("000000"), secondaryColour = HEX("000000"), contrast = 1, creditsColour = HEX("7c128c"), play_colour = HEX("7c128c"), buttons_colour = HEX("7c128c"), play_text = HEX("e0e0e0"), buttons_text = HEX("e0e0e0"), menu_colour = HEX("000000")},
    {name = "Milk Outside a Bag Of Milk Outside a Bag of Milk",                         file = "balatro40.png", X = 333, Y = 216,  credits = "Kiro",   primaryColour = HEX("3d1919"), secondaryColour = HEX("0a0a0a"), contrast = 1, creditsColour = HEX("a32441"), play_colour = HEX("a32441"), buttons_colour = HEX("a32441"), play_text = HEX("e0e0e0"), buttons_text = HEX("e0e0e0"), menu_colour = HEX("262525")},
    {name = "Hitman",                         file = "balatro41.png", X = 333, Y = 216,  credits = "Kiro",   primaryColour = HEX("4f0a1a"), secondaryColour = HEX("42282e"), contrast = 1, creditsColour = HEX("e0e0e0"), play_colour = HEX("bd0606"), buttons_colour = HEX("e6e6e6"), play_text = HEX("e0e0e0"), buttons_text = HEX("363636"), menu_colour = G.C.CLEAR},
}



--------------------
-- Config Options --
--------------------
---

function G.FUNCS.selected_main_logo(arg)
    KGL.config.selected_logo = arg.to_key
    SMODS.save_mod_config(KGL)
end


   local ordered_names, viewed_logo = {}, 1
  for k, v in ipairs(KGL.logos) do
    ordered_names[#ordered_names+1] = v.name
--    if v.name == G.GAME.viewed_back.name then viewed_logo = k end
  end

KGL.config_tab = function()
    return {n=G.UIT.ROOT, config = {align = "cm", padding = 0.05, colour = G.C.CLEAR}, nodes={
        create_toggle({label = "Enable fixed logo (requires restart)", ref_table = KGL.config, ref_value = "enable_fixed_logo"}),
        create_option_cycle({
                align = "cm",
                ref_table = KGL.config,
                ref_value = "selected_logo",
                current_option = KGL.config.selected_logo,
                opt_callback = "selected_main_logo",
                w = 10,
                label = "Selected Logo",
                options = ordered_names,
            }),
    }}
end

local selectedMenu = math.random(1,41)

local selectedMenuFixed = KGL.config.selected_logo or 1

KGL.selected_logo = {name = "AAAA", credits = "AAAA", primaryColour = "AAAA", secondaryColour = "AAAA", contrast = "AAAA", creditsColour = "AAAA"}


--SMODS.Atlas{key = "balatro", path = possibleMainMenus[selectedMenu], px = possibleX[selectedMenu], py = possibleY[selectedMenu], prefix_config = { key = false }, artCredits = artCredits[selectedMenu], colourMain = primaryColour[selectedMenu], colourSecondary = secondaryColour[selectedMenu], colourCredits = creditsColour[selectedMenu]}

if KGL.config.enable_fixed_logo == false then
    KGL.selected_logo.name = KGL.logos[selectedMenu].name
    KGL.selected_logo.file = KGL.logos[selectedMenu].file
    KGL.selected_logo.X = KGL.logos[selectedMenu].X
    KGL.selected_logo.Y = KGL.logos[selectedMenu].Y
    KGL.selected_logo.credits = KGL.logos[selectedMenu].credits
    KGL.selected_logo.primaryColour = KGL.logos[selectedMenu].primaryColour
    KGL.selected_logo.secondaryColour = KGL.logos[selectedMenu].secondaryColour
    KGL.selected_logo.contrast = KGL.logos[selectedMenu].contrast
    KGL.selected_logo.creditsColour = KGL.logos[selectedMenu].creditsColour
    KGL.selected_logo.play_colour = KGL.logos[selectedMenu].play_colour
    KGL.selected_logo.buttons_colour = KGL.logos[selectedMenu].buttons_colour
    KGL.selected_logo.play_text = KGL.logos[selectedMenu].play_text
    KGL.selected_logo.buttons_text = KGL.logos[selectedMenu].buttons_text
    KGL.selected_logo.menu_colour = KGL.logos[selectedMenu].menu_colour
    SMODS.Atlas{key = "balatro", path = KGL.selected_logo.file, px = KGL.selected_logo.X, py = KGL.selected_logo.Y, prefix_config = { key = false }}
else
    KGL.selected_logo.name = KGL.logos[selectedMenuFixed].name
    KGL.selected_logo.file = KGL.logos[selectedMenuFixed].file
    KGL.selected_logo.X = KGL.logos[selectedMenuFixed].X
    KGL.selected_logo.Y = KGL.logos[selectedMenuFixed].Y
    KGL.selected_logo.credits = KGL.logos[selectedMenuFixed].credits
    KGL.selected_logo.primaryColour = KGL.logos[selectedMenuFixed].primaryColour
    KGL.selected_logo.secondaryColour = KGL.logos[selectedMenuFixed].secondaryColour
    KGL.selected_logo.contrast = KGL.logos[selectedMenuFixed].contrast
    KGL.selected_logo.creditsColour = KGL.logos[selectedMenuFixed].creditsColour
    KGL.selected_logo.play_colour = KGL.logos[selectedMenuFixed].play_colour
    KGL.selected_logo.buttons_colour = KGL.logos[selectedMenuFixed].buttons_colour
    KGL.selected_logo.play_text = KGL.logos[selectedMenuFixed].play_text
    KGL.selected_logo.buttons_text = KGL.logos[selectedMenuFixed].buttons_text
    KGL.selected_logo.menu_colour = KGL.logos[selectedMenuFixed].menu_colour
    SMODS.Atlas{key = "balatro", path = KGL.selected_logo.file, px = KGL.selected_logo.X, py = KGL.selected_logo.Y, prefix_config = { key = false }}
end

